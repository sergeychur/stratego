На будущее: можно сделать лог, в который пишутся все возникшие ошибки за игру(они пробрасываются исключениями)

Запихнуть в state все bool unitа done

Удалять unita из map при death done

Обрабатывать не все команды check

CI

очистка кода

МБ пеоменять вектор в апдейте на unordered_set done in other way(map buf)

На клиенте надо посылать не все команды(перегруз сети)
